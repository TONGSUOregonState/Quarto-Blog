---
title: "Linked list Program"
format: 
  html:
    highlight-style: github
---

## åŸå§‹ C ç¨‹åº

<details markdown="1">
<summary>Show the code</summary>

```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

typedef struct Node {
    char name[32];
    struct Node *next;
} Node;

/* åœ¨é“¾è¡¨å°¾éƒ¨æ’å…¥ nameï¼Œè¿”å›"æ–°çš„å°¾ç»“ç‚¹" */
Node* push_back(Node *last, const char *name) {
    Node *p = (Node*)malloc(sizeof(Node));
    if (!p) { perror("malloc"); exit(1); }

    strncpy(p->name, name, sizeof(p->name)-1);
    p->name[sizeof(p->name)-1] = '\0';
    p->next = NULL;

    if (last) { last->next = p; }
    return p;
}

void print_list(Node *head) {
    for (Node *cur = head; cur; cur = cur->next) {
        printf("%s%s", cur->name, cur->next ? " -> " : " -> null\n");
    }
}

int count(Node *h) {
    int n = 0; for (Node *p = h; p; p = p->next) n++; return n;
}

int main(void) {
    Node *head = NULL, *tail = NULL;
    tail = push_back(NULL, "Jacob"); head = tail;
    tail = push_back(tail, "Joseph");
    tail = push_back(tail, "Mary");
    print_list(head);
    printf("This linked list has %d nodes.\n\n", count(head));
    tail = push_back(tail, "Ann");
    print_list(head);
    printf("This linked list has %d nodes.\n", count(head));
    return 0;
}
```

</details>

## ç¨‹åºè¯´æ˜

è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å•å‘é“¾è¡¨å®ç°ï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š

- **ç»“æ„å®šä¹‰**ï¼š`Node` ç»“æ„åŒ…å«å§“åå­—ç¬¦ä¸²å’ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ
- **æ’å…¥åŠŸèƒ½**ï¼š`push_back()` å‡½æ•°åœ¨é“¾è¡¨å°¾éƒ¨æ·»åŠ æ–°èŠ‚ç‚¹
- **æ‰“å°åŠŸèƒ½**ï¼š`print_list()` å‡½æ•°éå†å¹¶æ‰“å°æ•´ä¸ªé“¾è¡¨
- **è®¡æ•°åŠŸèƒ½**ï¼š`count()` å‡½æ•°è¿”å›é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°é‡

## é¢„æœŸè¾“å‡º

```
Jacob -> Joseph -> Mary -> null
This linked list has 3 nodes.

Jacob -> Joseph -> Mary -> Ann -> null
This linked list has 4 nodes.
```


````markdown
---
title: "é€è¡Œè§£æï¼šmain ç¨‹åº"
format: html
---

## ç¨‹åºä»£ç ä¸é€è¡Œè§£é‡Š

```c
int main(void) {
````

ğŸ‘‰ ç¨‹åºå…¥å£å‡½æ•°ï¼Œè¿”å›ç±»å‹æ˜¯ `int`ï¼Œå‚æ•°ä¸ºç©ºï¼ˆ`void` è¡¨ç¤º main ä¸æ¥æ”¶å‘½ä»¤è¡Œå‚æ•°ï¼‰ã€‚

---

```c
    Node *head = NULL, *tail = NULL;
```

ğŸ‘‰ å®šä¹‰ä¸¤ä¸ªæŒ‡å‘ `Node` çš„æŒ‡é’ˆå˜é‡ï¼š

* `head`ï¼šæŒ‡å‘é“¾è¡¨çš„å¤´ç»“ç‚¹ï¼ˆç¬¬ä¸€ä¸ªç»“ç‚¹ï¼‰ã€‚
* `tail`ï¼šæŒ‡å‘é“¾è¡¨çš„å°¾ç»“ç‚¹ï¼ˆæœ€åä¸€ä¸ªç»“ç‚¹ï¼‰ã€‚
  ä¸€å¼€å§‹å®ƒä»¬éƒ½è®¾ä¸º `NULL`ï¼Œè¡¨ç¤ºé“¾è¡¨è¿˜æ²¡æœ‰ä»»ä½•èŠ‚ç‚¹ã€‚

---

```c
    tail = push_back(NULL, "Jacob"); head = tail;
```

ğŸ‘‰ è°ƒç”¨ `push_back` åœ¨ä¸€ä¸ªç©ºé“¾è¡¨ä¸­æ’å…¥ `"Jacob"` èŠ‚ç‚¹ã€‚

* è¿”å›çš„æ–°èŠ‚ç‚¹åœ°å€èµ‹ç»™ `tail`ï¼ˆå³å°¾ç»“ç‚¹ï¼‰ã€‚
* åŒæ—¶å› ä¸ºè¿™æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥ `head = tail`ï¼Œé“¾è¡¨çš„å¤´å’Œå°¾éƒ½æŒ‡å‘è¿™ä¸ªæ–°èŠ‚ç‚¹ã€‚

---

```c
    tail = push_back(tail, "Joseph");
```

ğŸ‘‰ åœ¨å½“å‰å°¾ç»“ç‚¹ `"Jacob"` åé¢æ’å…¥ `"Joseph"` èŠ‚ç‚¹ã€‚
`push_back` ä¼šè¿”å›æ–°çš„å°¾ç»“ç‚¹ `"Joseph"`ï¼Œèµ‹å€¼ç»™ `tail`ã€‚
ç°åœ¨é“¾è¡¨æ˜¯ï¼š

```
Jacob -> Joseph
```

---

```c
    tail = push_back(tail, "Mary");
```

ğŸ‘‰ åœ¨ `"Joseph"` åé¢æ’å…¥ `"Mary"` èŠ‚ç‚¹ã€‚
è¿”å›çš„æ–°å°¾ç»“ç‚¹ `"Mary"` å­˜å…¥ `tail`ã€‚
é“¾è¡¨å˜ä¸ºï¼š

```
Jacob -> Joseph -> Mary
```

---

```c
    print_list(head);
```

ğŸ‘‰ ä» `head` å¼€å§‹éå†é“¾è¡¨ï¼ŒæŠŠé“¾è¡¨æ‰€æœ‰èŠ‚ç‚¹çš„ `name` æ‰“å°å‡ºæ¥ã€‚
è¾“å‡ºç±»ä¼¼ï¼š

```
Jacob -> Joseph -> Mary
```

---

```c
    printf("This linked list has %d nodes.\n\n", count(head));
```

ğŸ‘‰ è°ƒç”¨ `count(head)` æ¥ç»Ÿè®¡é“¾è¡¨ä¸­èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œç„¶åè¾“å‡ºç»“æœã€‚
è¿™æ—¶é“¾è¡¨æœ‰ 3 ä¸ªèŠ‚ç‚¹ï¼Œè¾“å‡ºï¼š

```
This linked list has 3 nodes.
```

---

```c
    tail = push_back(tail, "Ann");
```

ğŸ‘‰ åœ¨ `"Mary"` åé¢æ’å…¥ `"Ann"` èŠ‚ç‚¹ï¼Œ`tail` æ›´æ–°ä¸º `"Ann"`ã€‚
é“¾è¡¨å˜ä¸ºï¼š

```
Jacob -> Joseph -> Mary -> Ann
```

---

```c
    print_list(head);
```

ğŸ‘‰ å†æ¬¡æ‰“å°æ•´ä¸ªé“¾è¡¨ï¼š

```
Jacob -> Joseph -> Mary -> Ann
```

---

```c
    printf("This linked list has %d nodes.\n", count(head));
```

ğŸ‘‰ å†æ¬¡ç»Ÿè®¡å¹¶è¾“å‡ºèŠ‚ç‚¹æ•°é‡ï¼Œè¿™æ¬¡æ˜¯ 4ï¼š

```
This linked list has 4 nodes.
```

---

```c
    return 0;
}
```

ğŸ‘‰ è¿”å› 0ï¼Œè¡¨ç¤ºç¨‹åºæ­£å¸¸ç»“æŸã€‚

```

---

è¦ä¸è¦æˆ‘å¸®ä½ åŠ ä¸€ä¸ª **ç¤ºæ„å›¾**ï¼ˆheadã€tail æ¯ä¸€æ­¥æŒ‡å‘æƒ…å†µï¼‰æ”¾åœ¨ qmd é‡Œï¼Ÿè¿™æ ·æ¸²æŸ“åä¸ä»…æœ‰æ–‡å­—è§£é‡Šï¼Œè¿˜èƒ½ç›´è§‚çœ‹é“¾è¡¨ç»“æ„ã€‚
```
